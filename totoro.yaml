repository: smardtacrdev.azurecr.io/smardtportal
services:
- db
- web
- nginx
profiles:
- all
- db
- web
- web_standby
- redis
- nginx
- celery
dbs:
- smardt_portal
- smardt_cache
db_user: smardt
hosts:
  staging: staging.smardt.com
  staging2: staging2.smardt.com
  staging3: staging3.smardt.com
  salesforce: salesforce.smardt.com
  production: salesportal.smardt.com
deployment_targets:
  local:
    host: default
    engine: master
    env_file: .envs/.env-dev
  master:
    host: production
    engine: master
    env_file: .envs/.env-production
  develop:
    host: staging
    engine: master
    env_file: .envs/.env-staging
  salesforce:
    host: salesforce
    engine: master
    env_file: .envs/.env-salesforce
  main:
    host: staging2
    engine: master
    env_file: .envs/.env-staging
spaces:
  region_name: sgp1
  bucket: smardtportal
  endpoint_url: https://sgp1.digitaloceanspaces.com
  prefix: _backups
  start_after: _backups/db/db_2025-01-01_08-00-00.sql
  resources:
  - db
  - files
  - translations
  downloads_dir: /home/smardt/downloads
server_setup_script:
  dir: ./confs
  filename: setup.sh
plugins_dir_name: totoro_plugins
